<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Personaje - Forja de Aventuras</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .creator-body {
            background-color: #1a1a1a;
            padding: 20px;
            padding: 20px 10px
        }

        .main-actions-footer {
            position: sticky;
            bottom: 0;
            background-color: var(--panel-bg);
            padding: 15px;
            display: flex;
            gap: 15px;
            border-top: 2px solid var(--border-gold);
            z-index: 100;
        }

        .creator-container {
            margin: 0 auto;
            /* Centra el contenedor horizontalmente */
            max-width: 600px;
            /* Limita el ancho en pantallas grandes */
            padding-bottom: 120px;
            /* Espacio para que el footer no tape el 칰ltimo elemento */
        }

        .main-actions-footer button,
        .main-actions-footer a {
            flex-grow: 1;
            padding: 15px;
            font-size: 1.2em;
        }

        #notification-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1050;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .notification-toast {
            background-color: var(--panel-bg);
            color: var(--text-light);
            padding: 15px 20px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid var(--border-gold);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform: translateX(100%);
            animation: slideInAndOut 4s ease-in-out forwards;
        }

        @keyframes slideInAndOut {

            0%,
            100% {
                opacity: 0;
                transform: translateX(100%);
            }

            10%,
            90% {
                opacity: 1;
                transform: translateX(0);
            }
        }
    </style>
</head>

<body class="creator-body">
    <div class="creator-container">
        <div class="panel-container">
            <div class="panel-column" style="margin: auto; max-width: 600px; padding-bottom: 100px;">
                <!-- Padding para que el footer no tape el contenido -->
                <div class="panel-container">
                    <div class="panel-content">
                        <div class="panel-view active">
                            <h3 class="view-title">Crear Nuevo Personaje</h3>
                            <div class="token-editor-form">
                                <h4>Informaci칩n B치sica</h4>
                                <!-- Tipo de Ficha (omitido, siempre ser치 'player' para el jugador) -->
                                <input type="hidden" id="tokenType" value="player">

                                <div class="form-row">
                                    <div><label for="tokenName">Nombre:*</label><input type="text" id="tokenName"
                                            placeholder="Ej: Lyra Silverhand"></div>
                                    <div><label for="tokenLetter">Letra:*</label><input type="text" id="tokenLetter"
                                            maxlength="2" placeholder="LS"></div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group"><label for="tokenClass">Clase:</label><input type="text"
                                            id="tokenClass" placeholder="Ej: Hechicera"></div>
                                    <div class="form-group"><label for="tokenLevel">Nivel:</label><input type="number"
                                            id="tokenLevel" value="1" min="1"></div>
                                </div>
                                <div class="form-group"><label for="tokenRace">Raza:</label><input type="text"
                                        id="tokenRace" placeholder="Ej: Semi-Elfa"></div>

                                <div class="form-row">
                                    <div class="form-group" style="flex-grow: 1;"><label for="tokenImageInput">Imagen de
                                            Ficha:</label>
                                        <div class="file-upload-wrapper"><input type="file" id="tokenImageInput"
                                                accept="image/*" class="hidden-file-input"><label for="tokenImageInput"
                                                class="custom-file-upload-btn small-btn">Cargar</label><span
                                                id="tokenImageName" class="file-name-display">Ning칰n archivo...</span>
                                        </div>
                                    </div>
                                </div>

                                <h4>Estad칤sticas</h4>
                                <div class="char-stats-grid" id="add_char_stats_grid">
                                    <div class="char-stat-card"><label>FUE</label><span class="char-mod"
                                            id="add_str_mod">+0</span>
                                        <div class="char-score-capsule"><input type="number" id="add_str_score"
                                                class="char-score-input nobackgrund" value="10"></div>
                                    </div>
                                    <div class="char-stat-card"><label>DES</label><span class="char-mod"
                                            id="add_dex_mod">+0</span>
                                        <div class="char-score-capsule"><input type="number" id="add_dex_score"
                                                class="char-score-input nobackgrund" value="10"></div>
                                    </div>
                                    <div class="char-stat-card"><label>CON</label><span class="char-mod"
                                            id="add_con_mod">+0</span>
                                        <div class="char-score-capsule"><input type="number" id="add_con_score"
                                                class="char-score-input nobackgrund" value="10"></div>
                                    </div>
                                    <div class="char-stat-card"><label>INT</label><span class="char-mod"
                                            id="add_int_mod">+0</span>
                                        <div class="char-score-capsule"><input type="number" id="add_int_score"
                                                class="char-score-input nobackgrund" value="10"></div>
                                    </div>
                                    <div class="char-stat-card"><label>SAB</label><span class="char-mod"
                                            id="add_wis_mod">+0</span>
                                        <div class="char-score-capsule"><input type="number" id="add_wis_score"
                                                class="char-score-input nobackgrund" value="10"></div>
                                    </div>
                                    <div class="char-stat-card"><label>CAR</label><span class="char-mod"
                                            id="add_car_mod">+0</span>
                                        <div class="char-score-capsule"><input type="number" id="add_car_score"
                                                class="char-score-input nobackgrund" value="10"></div>
                                    </div>
                                </div>

                                <div class="combat-stats-grid">
                                    <div class="combat-stat-card"><label class="combat-label-top">BONIF.</label><input
                                            type="number" class="combat-value-input nobackgrund"
                                            id="add_proficiency_bonus" value="2"><label
                                            class="combat-label-bottom">COMPETENCIA</label></div>
                                    <div class="combat-stat-card"><label class="combat-label-top">MOD.</label><input
                                            type="number" class="combat-value-input nobackgrund" id="add_initiative_mod"
                                            value="0"><label class="combat-label-bottom">INICIATIVA</label></div>
                                    <div class="combat-stat-card"><label
                                            class="combat-label-top">VELOCIDAD</label><input type="number"
                                            class="combat-value-input nobackgrund" id="add_speed" value="30"><label
                                            class="combat-label-bottom">PIES</label></div>
                                    <div class="combat-stat-card"><label class="combat-label-top">CLASE DE</label><input
                                            type="number" class="combat-value-input nobackgrund" id="add_armor_class"
                                            value="10"><label class="combat-label-bottom">ARMADURA</label></div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group"><label>游녜勇뀼isi칩n (casillas):*</label><input type="number"
                                            id="tokenVision" value="12" min="0"></div>
                                    <div class="form-group"><label>鮫봺잺Vida M치xima:</label><input type="number"
                                            id="tokenHealth" value="10" placeholder="10"></div>
                                </div>

                                <h4>Tiradas de Salvaci칩n</h4>
                                <div class="saving-throws-list" id="add_saving_throws_list">
                                    <div class="save-throw-row">
                                        <div class="checkbox-container"><input type="checkbox" id="add_str_save_prof"
                                                class="save-prof-check"><label for="add_str_save_prof"></label></div>
                                        <span class="save-name" data-full-name="Fuerza"
                                            data-short-name="FUE">Fuerza</span>
                                        <span class="save-total" id="add_str_save_total">+0</span>
                                    </div>
                                    <div class="save-throw-row">
                                        <div class="checkbox-container"><input type="checkbox" id="add_dex_save_prof"
                                                class="save-prof-check"><label for="add_dex_save_prof"></label></div>
                                        <span class="save-name" data-full-name="Destreza"
                                            data-short-name="DES">Destreza</span>
                                        <span class="save-total" id="add_dex_save_total">+0</span>
                                    </div>
                                    <div class="save-throw-row">
                                        <div class="checkbox-container"><input type="checkbox" id="add_con_save_prof"
                                                class="save-prof-check"><label for="add_con_save_prof"></label></div>
                                        <span class="save-name" data-full-name="Constituci칩n"
                                            data-short-name="CON">Constituci칩n</span>
                                        <span class="save-total" id="add_con_save_total">+0</span>
                                    </div>
                                    <div class="save-throw-row">
                                        <div class="checkbox-container"><input type="checkbox" id="add_int_save_prof"
                                                class="save-prof-check"><label for="add_int_save_prof"></label></div>
                                        <span class="save-name" data-full-name="Inteligencia"
                                            data-short-name="INT">Inteligencia</span>
                                        <span class="save-total" id="add_int_save_total">+0</span>
                                    </div>
                                    <div class="save-throw-row">
                                        <div class="checkbox-container"><input type="checkbox" id="add_wis_save_prof"
                                                class="save-prof-check"><label for="add_wis_save_prof"></label></div>
                                        <span class="save-name" data-full-name="Sabidur칤a"
                                            data-short-name="SAB">Sabidur칤a</span>
                                        <span class="save-total" id="add_wis_save_total">+0</span>
                                    </div>
                                    <div class="save-throw-row">
                                        <div class="checkbox-container"><input type="checkbox" id="add_car_save_prof"
                                                class="save-prof-check"><label for="add_car_save_prof"></label></div>
                                        <span class="save-name" data-full-name="Carisma"
                                            data-short-name="CAR">Carisma</span>
                                        <span class="save-total" id="add_car_save_total">+0</span>
                                    </div>
                                </div>

                                <h4>Apariencia de Ficha</h4>
                                <div class="form-row">
                                    <div class="form-group"><label for="tokenColor">Color de Relleno:*</label><input
                                            type="color" id="tokenColor" value="#4a90e2">
                                        <div class="checkbox-container" style="margin-top: 8px;"><input type="checkbox"
                                                id="addBorderCheckbox"><label for="addBorderCheckbox">A침adir
                                                Borde</label></div>
                                        <div class="checkbox-container" style="margin-top: 8px;"><input type="checkbox"
                                                id="addTransparentBgCheckbox"><label for="addTransparentBgCheckbox">Sin
                                                Relleno</label></div>
                                    </div>
                                    <div class="form-group"><label for="tokenBorderColor">Color de Borde:*</label><input
                                            type="color" id="tokenBorderColor" value="#000000"><label
                                            for="tokenSizeMultiplier">Tama침o (x Casillas):</label><input type="number"
                                            id="tokenSizeMultiplier" value="1" min="0.5" step="0.5"></div>
                                </div>

                                <h4>Notas del Personaje</h4>
                                <div class="form-group"><textarea id="tokenNotes" rows="3"
                                        placeholder="Trasfondo, personalidad, aliados..."></textarea></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Barra de acciones inferior fija -->
    <div class="main-actions-footer">
        <button id="saveToLibraryBtn">Guardar en Biblioteca</button>
        <button id="exportBtn" class="secondary">Exportar a Archivo</button>
        <a href="library.html" class="secondary" style="text-align: center;">Cancelar</a>
    </div>

    <!-- Modales para notificaciones -->
    <div id="customModal" class="modal-overlay">
        <div class="modal-content custom-modal-content">
            <div id="customModalIcon" class="custom-modal-icon"></div>
            <h3 id="customModalTitle">T칤tulo del Modal</h3>
            <p id="customModalMessage">Este es el mensaje del modal.</p>
            <div id="customModalButtons" class="button-group">
                <!-- Los botones se generar치n con JavaScript -->
            </div>
        </div>
    </div>
    <div id="notification-container"></div>

    <script src="creator.js"></script>
</body>

</html>